/**
 *  _          _
 * (_) __ _   (_)___
 * | |/ _` |  | / __|
 * | | (_| |_ | \__ \
 * |_|\__,_(_)/ |___/
 *          |__/
 * (c) 2013 Inkling Systems, Inc.
 * Version 20200108.182913z.62442a2d
 *
 * See https://d3qs6zg0j7jfu9.cloudfront.net/ia/third_party_licenses.txt for third party licenses.
 */

/*! Raven.js 3.22.2 (1b6187b) | github.com/getsentry/raven-js */

/*
 * Includes TraceKit
 * https://github.com/getsentry/TraceKit
 *
 * Copyright 2018 Matt Robenolt and other contributors
 * Released under the BSD license
 * https://github.com/getsentry/raven-js/blob/master/LICENSE
 *
 */

/*
 TraceKit - Cross brower stack traces

 This was originally forked from github.com/occ/TraceKit, but has since been
 largely re-written and is now maintained as part of raven-js.  Tests for
 this are in test/vendor.

 MIT license
*/

/*
   json-stringify-safe
   Like JSON.stringify, but doesn't throw on circular references.

   Originally forked from https://github.com/isaacs/json-stringify-safe
   version 5.0.1 on 3/8/2017 and modified to handle Errors serialization
   and IE8 compatibility. Tests for this are in test/vendor.

   ISC license: https://github.com/isaacs/json-stringify-safe/blob/master/LICENSE
  */

window.ia=function(e){var t,n,r;(function(e){function d(e,t){return h.call(e,t)}function v(e,t){var n,r,i,s,o,u,a,f,c,h,p=t&&t.split("/"),d=l.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(f=0;f<e.length;f+=1){h=e[f];if(h===".")e.splice(f,1),f-=1;else if(h===".."){if(f===1&&(e[2]===".."||e[0]===".."))break;f>0&&(e.splice(f-1,2),f-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(f=n.length;f>0;f-=1){r=n.slice(0,f).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=f;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],a=f)}!s&&u&&(s=u,o=a),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function m(t,n){return function(){return s.apply(e,p.call(arguments,0).concat([t,n]))}}function g(e){return function(t){return v(t,e)}}function y(e){return function(t){a[e]=t}}function b(t){if(d(f,t)){var n=f[t];delete f[t],c[t]=!0,i.apply(e,n)}if(!d(a,t)&&!d(c,t))throw new Error("No "+t);return a[t]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice;o=function(e,t){var n,r=w(e),i=r[0];return e=r[1],i&&(i=v(i,t),n=b(i)),i?n&&n.normalize?e=n.normalize(e,g(t)):e=v(e,t):(e=v(e,t),r=w(e),i=r[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return m(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:E(e)}}},i=function(t,n,r,i){var s,l,h,p,v,g=[],w;i=i||t;if(typeof r=="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(v=0;v<n.length;v+=1){p=o(n[v],i),l=p.f;if(l==="require")g[v]=u.require(t);else if(l==="exports")g[v]=u.exports(t),w=!0;else if(l==="module")s=g[v]=u.module(t);else if(d(a,l)||d(f,l)||d(c,l))g[v]=b(l);else{if(!p.p)throw new Error(t+" missing "+l);p.p.load(p.n,m(i,!0),y(l),{}),g[v]=a[l]}}h=r.apply(a[t],g);if(t)if(s&&s.exports!==e&&s.exports!==a[t])a[t]=s.exports;else if(h!==e||!w)a[t]=h}else t&&(a[t]=r)},t=n=s=function(t,n,r,a,f){return typeof t=="string"?u[t]?u[t](n):b(o(t,n).f):(t.splice||(l=t,n.splice?(t=n,n=r,r=null):t=e),n=n||function(){},typeof r=="function"&&(r=a,a=f),a?i(e,t,n,r):setTimeout(function(){i(e,t,n,r)},4),s)},s.config=function(e){return l=e,l.deps&&s(l.deps,l.callback),s},t._defined=a,r=function(e,t,n){t.splice||(n=t,t=[]),!d(a,e)&&!d(f,e)&&(f[e]=[e,t,n])},r.amd={jQuery:!0}})(),r("../Lib/almond",function(){}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof r=="function"&&r.amd?r("../Lib/raven-js",t):e.Raven=t()}(this,function(){function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(e){return typeof e}:n=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return n(e)==="object"&&e!==null}function u(e){switch({}.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}function a(e){return v()&&{}.toString.call(e)==="[object ErrorEvent]"}function f(e){return e===void 0}function l(e){return typeof e=="function"}function c(e){return Object.prototype.toString.call(e)==="[object Object]"}function h(e){return Object.prototype.toString.call(e)==="[object String]"}function p(e){return Object.prototype.toString.call(e)==="[object Array]"}function d(e){if(!c(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function v(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function m(){if(!("fetch"in s))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function g(e){function t(t,n){var r=e(t)||t;return n?n(r)||r:r}return t}function y(e,t){var n,r;if(f(e.length))for(n in e)S(e,n)&&t.call(null,n,e[n]);else{r=e.length;if(r)for(n=0;n<r;n++)t.call(null,n,e[n])}}function b(e,t){return t?(y(t,function(t,n){e[t]=n}),e):e}function w(e){return Object.isFrozen?Object.isFrozen(e):!1}function E(e,t){return!t||e.length<=t?e:e.substr(0,t)+"â€¦"}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e){var t=[],n=0,r=e.length,i;for(;n<r;n++)i=e[n],h(i)?t.push(i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):i&&i.source&&t.push(i.source);return new RegExp(t.join("|"),"i")}function T(e){var t=[];return y(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")}function N(e){if(typeof e!="string")return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}}function C(){var e=s.crypto||s.msCrypto;if(!f(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=t[3]&4095|16384,t[4]=t[4]&16383|32768;var n=function(t){var n=t.toString(16);while(n.length<4)n="0"+n;return n};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function k(e){var t=5,n=80,r=[],i=0,s=0,o=" > ",u=o.length,a;while(e&&i++<t){a=L(e);if(a==="html"||i>1&&s+r.length*u+a.length>=n)break;r.push(a),s+=a.length,e=e.parentNode}return r.reverse().join(o)}function L(e){var t=[],n,r,i,s,o;if(!e||!e.tagName)return"";t.push(e.tagName.toLowerCase()),e.id&&t.push("#"+e.id),n=e.className;if(n&&h(n)){r=n.split(/\s+/);for(o=0;o<r.length;o++)t.push("."+r[o])}var u=["type","name","title","alt"];for(o=0;o<u.length;o++)i=u[o],s=e.getAttribute(i),s&&t.push("["+i+'="'+s+'"]');return t.join("")}function A(e,t){return!!(!!e^!!t)}function O(e,t){return f(e)&&f(t)}function M(e,t){return A(e,t)?!1:(e=e.values[0],t=t.values[0],e.type!==t.type||e.value!==t.value?!1:O(e.stacktrace,t.stacktrace)?!1:_(e.stacktrace,t.stacktrace))}function _(e,t){if(A(e,t))return!1;var n=e.frames,r=t.frames;if(n.length!==r.length)return!1;var i,s;for(var o=0;o<n.length;o++){i=n[o],s=r[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i["function"]!==s["function"])return!1}return!0}function D(e,t,n,r){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}function P(e,t){if(!p(e))return"";var n=[];for(var r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(i){n.push("[value cannot be serialized]")}return n.join(t)}function R(){return typeof document=="undefined"||document.location==null?"":document.location.href}function X(e){this.name="RavenConfigError",this.message=e}function wt(){return+(new Date)}function Tt(e,t){return Z(t)?function(n){return t(n,e)}:t}function Nt(){this._hasJSON=n(JSON)==="object"&&!!JSON.stringify,this._hasDocument=!Y(St),this._hasNavigator=!Y(xt),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:Et.SENTRY_RELEASE&&Et.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:"origin"},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=Et.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=wt(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=Et.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var e in this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},i=typeof Reflect=="object"&&Reflect.construct||function(t,n,i){var s,o=[null];return o.push.apply(o,n),s=t.bind.apply(t,o),r(new s,i.prototype)},s=typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{},H={isObject:o,isError:u,isErrorEvent:a,isUndefined:f,isFunction:l,isPlainObject:c,isString:h,isArray:p,isEmptyObject:d,supportsErrorEvent:v,supportsFetch:m,wrappedCallback:g,each:y,objectMerge:b,truncate:E,objectFrozen:w,hasKey:S,joinRegExp:x,urlencode:T,uuid4:C,htmlTreeAsString:k,htmlElementAsString:L,isSameException:M,isSameStacktrace:_,parseUrl:N,fill:D,safeJoin:P},B={collectWindowErrors:!0,debug:!1},j=typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{},F=[].slice,I="?",q=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;B.report=function(){function s(e){h(),t.push(e)}function o(e){for(var n=t.length-1;n>=0;--n)t[n]===e&&t.splice(n,1)}function u(){p(),t=[]}function a(e,n){var r=null;if(n&&!B.collectWindowErrors)return;for(var i in t)if(t.hasOwnProperty(i))try{t[i].apply(null,[e].concat(F.call(arguments,2)))}catch(s){r=s}if(r)throw r}function c(e,t,n,r,s){var o=null,u=H.isErrorEvent(s)?s.error:s,l=H.isErrorEvent(e)?e.message:e;if(i)B.computeStackTrace.augmentStackTraceWithInitialElement(i,t,n,l),d();else if(u&&H.isError(u))o=B.computeStackTrace(u),a(o,!0);else{var c={url:t,line:n,column:r},h=undefined,p;if({}.toString.call(l)==="[object String]"){var p=l.match(q);p&&(h=p[1],l=p[2])}c.func=I,o={name:h,message:l,url:R(),stack:[c]},a(o,!0)}return f?f.apply(this,arguments):!1}function h(){if(l)return;f=j.onerror,j.onerror=c,l=!0}function p(){if(!l)return;j.onerror=f,l=!1,f=undefined}function d(){var e=i,t=n;n=null,i=null,r=null,a.apply(null,[e,!1].concat(t))}function v(e,t){var s=F.call(arguments,1);if(i){if(r===e)return;d()}var o=B.computeStackTrace(e);i=o,r=e,n=s,setTimeout(function(){r===e&&d()},o.incomplete?2e3:0);if(t!==!1)throw e}var t=[],n=null,r=null,i=null,f,l;return v.subscribe=s,v.unsubscribe=o,v.uninstall=u,v}(),B.computeStackTrace=function(){function t(e){if(typeof e.stack=="undefined"||!e.stack)return;var t=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,n=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,r=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,o=e.stack.split("\n"),u=[],a,f,l,c=/^(.*) is undefined$/.exec(e.message);for(var h=0,p=o.length;h<p;++h){if(f=t.exec(o[h])){var d=f[2]&&f[2].indexOf("native")===0,v=f[2]&&f[2].indexOf("eval")===0;v&&(a=s.exec(f[2]))&&(f[2]=a[1],f[3]=a[2],f[4]=a[3]),l={url:d?null:f[2],func:f[1]||I,args:d?[f[2]]:[],line:f[3]?+f[3]:null,column:f[4]?+f[4]:null}}else if(f=r.exec(o[h]))l={url:f[2],func:f[1]||I,args:[],line:+f[3],column:f[4]?+f[4]:null};else{if(!(f=n.exec(o[h])))continue;var v=f[3]&&f[3].indexOf(" > eval")>-1;v&&(a=i.exec(f[3]))?(f[3]=a[1],f[4]=a[2],f[5]=null):h===0&&!f[5]&&typeof e.columnNumber!="undefined"&&(u[0].column=e.columnNumber+1),l={url:f[3],func:f[1]||I,args:f[2]?f[2].split(","):[],line:f[4]?+f[4]:null,column:f[5]?+f[5]:null}}!l.func&&l.line&&(l.func=I),u.push(l)}return u.length?{name:e.name,message:e.message,url:R(),stack:u}:null}function n(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=I);if(e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function r(e,t){var s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,o=[],u={},a=!1,f,l;for(var c=r.caller;c&&!a;c=c.caller){if(c===i||c===B.report)continue;l={url:null,func:I,line:null,column:null};if(c.name)l.func=c.name;else if(f=s.exec(c.toString()))l.func=f[1];if(typeof l.func=="undefined")try{l.func=f.input.substring(0,f.input.indexOf("{"))}catch(h){}u[""+c]?a=!0:u[""+c]=!0,o.push(l)}t&&o.splice(0,t);var p={name:e.name,message:e.message,url:R(),stack:o};return n(p,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),p}function i(e,n){var i=null;n=n==null?0:+n;try{i=t(e);if(i)return i}catch(s){if(B.debug)throw s}try{i=r(e,n+1);if(i)return i}catch(s){if(B.debug)throw s}return{name:e.name,message:e.message,url:R()}}return i.augmentStackTraceWithInitialElement=n,i.computeStackTraceFromStackProp=t,i}();var U=B,z=t(function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t,n,r){return JSON.stringify(e,s(t,r),n)}function i(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function s(e,t){var r=[],s=[];return t==null&&(t=function(t,i){return r[0]===i?"[Circular ~]":"[Circular ~."+s.slice(0,n(r,i)).join(".")+"]"}),function(o,u){if(r.length>0){var a=n(r,this);~a?r.splice(a+1):r.push(this),~a?s.splice(a,Infinity,o):s.push(o),~n(r,u)&&(u=t.call(this,o,u))}else r.push(u);return e==null?u instanceof Error?i(u):u:e.call(this,o,u)}}t=e.exports=r,t.getSerialize=s}),W=z.getSerialize;X.prototype=new Error,X.prototype.constructor=X;var V=X,$=function(t,n,r){var i=t[n],s=t;if(!(n in t))return;var o=n==="warn"?"warning":n;t[n]=function(){var e=[].slice.call(arguments),t=H.safeJoin(e," "),u={level:o,logger:"console",extra:{arguments:e}};n==="assert"?e[0]===!1&&(t="Assertion failed: "+(H.safeJoin(e.slice(1)," ")||"console.assert"),u.extra.arguments=e.slice(1),r&&r(t,u)):r&&r(t,u),i&&Function.prototype.apply.call(i,s,e)}},J={wrapMethod:$},K=H.isError,Q=H.isObject,G=H.isErrorEvent,Y=H.isUndefined,Z=H.isFunction,et=H.isString,tt=H.isArray,nt=H.isEmptyObject,rt=H.each,it=H.objectMerge,st=H.truncate,ot=H.objectFrozen,ut=H.hasKey,at=H.joinRegExp,ft=H.urlencode,lt=H.uuid4,ct=H.htmlTreeAsString,ht=H.isSameException,pt=H.isSameStacktrace,dt=H.parseUrl,vt=H.fill,mt=H.supportsFetch,gt=J.wrapMethod,yt="source protocol user pass host port path".split(" "),bt=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,Et=typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{},St=Et.document,xt=Et.navigator;Nt.prototype={VERSION:"3.22.2",debug:!1,TraceKit:U,config:function(t,n){var r=this;if(r._globalServer)return this._logDebug("error","Error: Raven has already been configured"),r;if(!t)return r;var i=r._globalOptions;n&&rt(n,function(e,t){e==="tags"||e==="extra"||e==="user"?r._globalContext[e]=t:i[e]=t}),r.setDSN(t),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=at(i.ignoreErrors),i.ignoreUrls=i.ignoreUrls.length?at(i.ignoreUrls):!1,i.whitelistUrls=i.whitelistUrls.length?at(i.whitelistUrls):!1,i.includePaths=at(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var s={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=i.autoBreadcrumbs;(({})).toString.call(o)==="[object Object]"?o=it(s,o):o!==!1&&(o=s),i.autoBreadcrumbs=o;var u={tryCatch:!0},a=i.instrument;return{}.toString.call(a)==="[object Object]"?a=it(u,a):a!==!1&&(a=u),i.instrument=a,U.collectWindowErrors=!!i.collectWindowErrors,r},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(U.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var n=this,r=n._parseDSN(t),i=r.path.lastIndexOf("/"),s=r.path.substr(1,i);n._dsn=t,n._globalKey=r.user,n._globalSecret=r.pass&&r.pass.substr(1),n._globalProject=r.path.substr(i+1),n._globalServer=n._getGlobalServer(r),n._globalEndpoint=n._globalServer+"/"+s+"api/"+n._globalProject+"/store/",this._resetBackoff()},context:function(t,n,r){return Z(t)&&(r=n||[],n=t,t=undefined),this.wrap(t,n).apply(this,r)},wrap:function(t,n,r){function o(){var e=[],s=arguments.length,o=!t||t&&t.deep!==!1;r&&Z(r)&&r.apply(this,arguments);while(s--)e[s]=o?i.wrap(t,arguments[s]):arguments[s];try{return n.apply(this,e)}catch(u){throw i._ignoreNextOnError(),i.captureException(u,t),u}}var i=this;if(Y(n)&&!Z(t))return t;Z(t)&&(n=t,t=undefined);if(!Z(n))return n;try{if(n.__raven__)return n;if(n.__raven_wrapper__)return n.__raven_wrapper__}catch(s){return n}for(var u in n)ut(n,u)&&(o[u]=n[u]);return o.prototype=n.prototype,n.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=n,o},uninstall:function(){return U.report.uninstall(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(t,n){n=it({trimHeadFrames:0},n?n:{});var r=!K(t),i=!G(t),s=G(t)&&!t.error;if(r&&i||s)return this.captureMessage(t,it(n,{stacktrace:!0,trimHeadFrames:n.trimHeadFrames+1}));G(t)&&(t=t.error),this._lastCapturedException=t;try{var o=U.computeStackTrace(t);this._handleStackInfo(o,n)}catch(u){if(t!==u)throw u}return this},captureMessage:function(t,n){if(!!this._globalOptions.ignoreErrors.test&&this._globalOptions.ignoreErrors.test(t))return;n=n||{};var r=it({message:t+""},n),i;try{throw new Error(t)}catch(s){i=s}i.name=null;var o=U.computeStackTrace(i),u=tt(o.stack)&&o.stack[1],a=u&&u.url||"";if(!!this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(a))return;if(!!this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(a))return;if(this._globalOptions.stacktrace||n&&n.stacktrace){n=it({fingerprint:t,trimHeadFrames:(n.trimHeadFrames||0)+1},n);var f=this._prepareFrames(o,n);r.stacktrace={frames:f.reverse()}}return this._send(r),this},captureBreadcrumb:function(t){var n=it({timestamp:wt()/1e3},t);if(Z(this._globalOptions.breadcrumbCallback)){var r=this._globalOptions.breadcrumbCallback(n);if(Q(r)&&!nt(r))n=r;else if(r===!1)return this}return this._breadcrumbs.push(n),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var n=[].slice.call(arguments,1);return this._plugins.push([t,n]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(z(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var n=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=Tt(n,t),this},setBreadcrumbCallback:function(t){var n=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=Tt(n,t),this},setShouldSendCallback:function(t){var n=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=Tt(n,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return this._hasJSON?this._globalServer?!0:(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1):!1},afterLoad:function(){var t=Et.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(!St)return;t=t||{};var n=t.eventId||this.lastEventId();if(!n)throw new V("Missing eventId");var r=t.dsn||this._dsn;if(!r)throw new V("Missing DSN");var i=encodeURIComponent,s="";s+="?eventId="+i(n),s+="&dsn="+i(r);var o=t.user||this._globalContext.user;o&&(o.name&&(s+="&name="+i(o.name)),o.email&&(s+="&email="+i(o.email)));var u=this._getGlobalServer(this._parseDSN(r)),a=St.createElement("script");a.async=!0,a.src=u+"/api/embed/error-page/"+s,(St.head||St.body).appendChild(a)},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,n){var r,i;if(!this._hasDocument)return;n=n||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),St.createEvent?(r=St.createEvent("HTMLEvents"),r.initEvent(t,!0,!0)):(r=St.createEventObject(),r.eventType=t);for(i in n)ut(n,i)&&(r[i]=n[i]);if(St.createEvent)St.dispatchEvent(r);else try{St.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(s){}},_breadcrumbEventHandler:function(t){var n=this;return function(e){n._keypressTimeout=null;if(n._lastCapturedEvent===e)return;n._lastCapturedEvent=e;var r;try{r=ct(e.target)}catch(i){r="<unknown>"}n.captureBreadcrumb({category:"ui."+t,message:r})}},_keypressEventHandler:function(){var t=this,n=1e3;return function(e){var r;try{r=e.target}catch(i){return}var s=r&&r.tagName;if(!s||s!=="INPUT"&&s!=="TEXTAREA"&&!r.isContentEditable)return;var o=t._keypressTimeout;o||t._breadcrumbEventHandler("input")(e),clearTimeout(o),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},n)}},_captureUrlChange:function(t,n){var r=dt(this._location.href),i=dt(n),s=dt(t);this._lastHref=n,r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===s.protocol&&r.host===s.host&&(t=s.relative),this.captureBreadcrumb({category:"navigation",data:{to:n,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return typeof this=="function"&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){function r(e){return function(n,r){var i=new Array(arguments.length);for(var s=0;s<i.length;++s)i[s]=arguments[s];var o=i[0];return Z(o)&&(i[0]=t.wrap(o)),e.apply?e.apply(this,i):e(i[0],i[1])}}function s(e){var r=Et[e]&&Et[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(vt(r,"addEventListener",function(n){return function(r,s,o,u){try{s&&s.handleEvent&&(s.handleEvent=t.wrap(s.handleEvent))}catch(a){}var f,l,c;return i&&i.dom&&(e==="EventTarget"||e==="Node")&&(l=t._breadcrumbEventHandler("click"),c=t._keypressEventHandler(),f=function(t){if(!t)return;var n;try{n=t.type}catch(r){return}if(n==="click")return l(t);if(n==="keypress")return c(t)}),n.call(this,r,t.wrap(s,undefined,f),o,u)}},n),vt(r,"removeEventListener",function(e){return function(t,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(s){}return e.call(this,t,n,r,i)}},n))}var t=this,n=t._wrappedBuiltIns,i=this._globalOptions.autoBreadcrumbs;vt(Et,"setTimeout",r,n),vt(Et,"setInterval",r,n),Et.requestAnimationFrame&&vt(Et,"requestAnimationFrame",function(e){return function(n){return e(t.wrap(n))}},n);var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];for(var u=0;u<o.length;u++)s(o[u])},_instrumentBreadcrumbs:function(){function i(e,n){e in n&&Z(n[e])&&vt(n,e,function(e){return t.wrap(e)})}var t=this,n=this._globalOptions.autoBreadcrumbs,r=t._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in Et){var s=XMLHttpRequest.prototype;vt(s,"open",function(e){return function(n,r){return et(r)&&r.indexOf(t._globalKey)===-1&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}},r),vt(s,"send",function(e){return function(){function r(){if(n.__raven_xhr&&n.readyState===4){try{n.__raven_xhr.status_code=n.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}var n=this,s=["onload","onerror","onprogress"];for(var o=0;o<s.length;o++)i(s[o],n);return"onreadystatechange"in n&&Z(n.onreadystatechange)?vt(n,"onreadystatechange",function(e){return t.wrap(e,undefined,r)}):n.onreadystatechange=r,e.apply(this,arguments)}},r)}n.xhr&&mt()&&vt(Et,"fetch",function(e){return function(){var n=new Array(arguments.length);for(var r=0;r<n.length;++r)n[r]=arguments[r];var i=n[0],s="GET",o;typeof i=="string"?o=i:"Request"in Et&&i instanceof Et.Request?(o=i.url,i.method&&(s=i.method)):o=""+i;if(o.indexOf(t._globalKey)!==-1)return e.apply(this,n);n[1]&&n[1].method&&(s=n[1].method);var u={method:s,url:o,status_code:null};return e.apply(this,n).then(function(e){return u.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:u}),e})}},r),n.dom&&this._hasDocument&&(St.addEventListener?(St.addEventListener("click",t._breadcrumbEventHandler("click"),!1),St.addEventListener("keypress",t._keypressEventHandler(),!1)):(St.attachEvent("onclick",t._breadcrumbEventHandler("click")),St.attachEvent("onkeypress",t._keypressEventHandler())));var o=Et.chrome,u=o&&o.app&&o.app.runtime,a=!u&&Et.history&&history.pushState&&history.replaceState;if(n.location&&a){var f=Et.onpopstate;Et.onpopstate=function(){var e=t._location.href;t._captureUrlChange(t._lastHref,e);if(f)return f.apply(this,arguments)};var l=function(n){return function(){var e=arguments.length>2?arguments[2]:undefined;return e&&t._captureUrlChange(t._lastHref,e+""),n.apply(this,arguments)}};vt(history,"pushState",l,r),vt(history,"replaceState",l,r)}if(n.console&&"console"in Et&&console.log){var c=function(n,r){t.captureBreadcrumb({message:n,level:r.level,category:"console"})};rt(["debug","info","warn","error","log"],function(e,t){gt(console,t,c)})}},_restoreBuiltIns:function(){var t;while(this._wrappedBuiltIns.length){t=this._wrappedBuiltIns.shift();var n=t[0],r=t[1],i=t[2];n[r]=i}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;rt(this._plugins,function(e,n){var r=n[0],i=n[1];r.apply(t,[t].concat(i))})},_parseDSN:function(t){var n=bt.exec(t),r={},i=7;try{while(i--)r[yt[i]]=n[i]||""}catch(s){throw new V("Invalid DSN: "+t)}if(r.pass&&!this._globalOptions.allowSecretKey)throw new V("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},_getGlobalServer:function(t){var n="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(n=t.protocol+":"+n),n},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,n){var r=this._prepareFrames(t,n);this._triggerEvent("handle",{stackInfo:t,options:n}),this._processException(t.name,t.message,t.url,t.lineno,r,n)},_prepareFrames:function(t,n){var r=this,i=[];if(t.stack&&t.stack.length){rt(t.stack,function(e,n){var s=r._normalizeFrame(n,t.url);s&&i.push(s)});if(n&&n.trimHeadFrames)for(var s=0;s<n.trimHeadFrames&&s<i.length;s++)i[s].in_app=!1}return i=i.slice(0,this._globalOptions.stackTraceLimit),i},_normalizeFrame:function(t,n){var r={filename:t.url,lineno:t.line,colno:t.column,"function":t.func||"?"};return t.url||(r.filename=n),r.in_app=!(!!this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(r.filename)||/(Raven|TraceKit)\./.test(r["function"])||/raven\.(min\.)?js$/.test(r.filename)),r},_processException:function(t,n,r,i,s,o){var u=(t?t+": ":"")+(n||"");if(!(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(n)&&!this._globalOptions.ignoreErrors.test(u)))return;var a;s&&s.length?(r=s[0].filename||r,s.reverse(),a={frames:s}):r&&(a={frames:[{filename:r,lineno:i,in_app:!0}]});if(!!this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(r))return;if(!!this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(r))return;var f=it({exception:{values:[{type:t,value:n,stacktrace:a}]},culprit:r},o);this._send(f)},_trimPacket:function(t){var n=this._globalOptions.maxMessageLength;t.message&&(t.message=st(t.message,n));if(t.exception){var r=t.exception.values[0];r.value=st(r.value,n)}var i=t.request;return i&&(i.url&&(i.url=st(i.url,this._globalOptions.maxUrlLength)),i.Referer&&(i.Referer=st(i.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){var n=["to","from","url"],r,i,s;for(var o=0;o<t.values.length;++o){i=t.values[o];if(!i.hasOwnProperty("data")||!Q(i.data)||ot(i.data))continue;s=it({},i.data);for(var u=0;u<n.length;++u)r=n[u],s.hasOwnProperty(r)&&s[r]&&(s[r]=st(s[r],this._globalOptions.maxUrlLength));t.values[o].data=s}},_getHttpData:function(){if(!this._hasNavigator&&!this._hasDocument)return;var t={};return this._hasNavigator&&xt.userAgent&&(t.headers={"User-Agent":navigator.userAgent}),Et.location&&Et.location.href&&(t.url=Et.location.href),this._hasDocument&&St.referrer&&(t.headers||(t.headers={}),t.headers.Referer=St.referrer),t},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&wt()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var n=this._lastData;return!n||t.message!==n.message||t.culprit!==n.culprit?!1:t.stacktrace||n.stacktrace?pt(t.stacktrace,n.stacktrace):t.exception||n.exception?ht(t.exception,n.exception):!0},_setBackoffState:function(t){if(this._shouldBackoff())return;var n=t.status;if(n!==400&&n!==401&&n!==429)return;var r;try{mt()?r=t.headers.get("Retry-After"):r=t.getResponseHeader("Retry-After"),r=parseInt(r,10)*1e3}catch(i){}this._backoffDuration=r?r:this._backoffDuration*2||1e3,this._backoffStart=wt()},_send:function(t){var n=this._globalOptions,r={project:this._globalProject,logger:n.logger,platform:"javascript"},i=this._getHttpData();i&&(r.request=i),t.trimHeadFrames&&delete t.trimHeadFrames,t=it(r,t),t.tags=it(it({},this._globalContext.tags),t.tags),t.extra=it(it({},this._globalContext.extra),t.extra),t.extra["session:duration"]=wt()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),n.environment&&(t.environment=n.environment),n.release&&(t.release=n.release),n.serverName&&(t.server_name=n.serverName),Object.keys(t).forEach(function(e){(t[e]==null||t[e]===""||nt(t[e]))&&delete t[e]}),Z(n.dataCallback)&&(t=n.dataCallback(t)||t);if(!t||nt(t))return;if(Z(n.shouldSendCallback)&&!n.shouldSendCallback(t))return;if(this._shouldBackoff()){this._logDebug("warn","Raven dropped error due to backoff: ",t);return}typeof n.sampleRate=="number"?Math.random()<n.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)},_getUuid:function(){return lt()},_sendProcessedPayload:function(t,n){var r=this,i=this._globalOptions;if(!this.isSetup())return;t=this._trimPacket(t);if(!this._globalOptions.allowDuplicates&&this._isRepeatData(t)){this._logDebug("warn","Raven dropped repeat event: ",t);return}this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var s={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(s.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var u=this._globalEndpoint;(i.transport||this._makeRequest).call(this,{url:u,auth:s,data:t,options:i,onSuccess:function(){r._resetBackoff(),r._triggerEvent("success",{data:t,src:u}),n&&n()},onError:function(i){r._logDebug("error","Raven transport failed to send: ",i),i.request&&r._setBackoffState(i.request),r._triggerEvent("failure",{data:t,src:u}),i=i||new Error("Raven send failed (no additional details provided)"),n&&n(i)}})},_makeRequest:function(t){var n=t.url+"?"+ft(t.auth),r=null,i={};t.options.headers&&(r=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(i=this._evaluateHash(t.options.fetchParameters));if(mt()){i.body=z(t.data);var s=it({},this._fetchDefaults),o=it(s,i);return r&&(o.headers=r),Et.fetch(n,o).then(function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}})["catch"](function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var u=Et.XMLHttpRequest&&new Et.XMLHttpRequest;if(!u)return;var a="withCredentials"in u||typeof XDomainRequest!="undefined";if(!a)return;"withCredentials"in u?u.onreadystatechange=function(){if(u.readyState!==4)return;if(u.status===200)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+u.status);e.request=u,t.onError(e)}}:(u=new XDomainRequest,n=n.replace(/^https?:/,""),t.onSuccess&&(u.onload=t.onSuccess),t.onError&&(u.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=u,t.onError(e)})),u.open("POST",n),r&&rt(r,function(e,t){u.setRequestHeader(e,t)}),u.send(z(t.data))},_evaluateHash:function(t){var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];n[r]=typeof i=="function"?i():i}return n},_logDebug:function(t){this._originalConsoleMethods[t]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,n){Y(n)?delete this._globalContext[t]:this._globalContext[t]=it(this._globalContext[t]||{},n)}},Nt.prototype.setUser=Nt.prototype.setUserContext,Nt.prototype.setReleaseContext=Nt.prototype.setRelease;var Ct=Nt,kt=typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{},Lt=kt.Raven,At=new Ct;At.noConflict=function(){return kt.Raven=Lt,At},At.afterLoad();var Ot=At;return Ot}),r("Utilities/Underscore.subset",[],function(e){e={},e.breaker={},e.ArrayProto=Array.prototype,e.ObjectProto=Object.prototype,e.nativeForEach=e.ArrayProto.forEach,e.nativeFilter=e.ArrayProto.filter,e.nativeMap=e.ArrayProto.map,e.nativeReduce=e.ArrayProto.reduce,e.nativeKeys=Object.keys,e.nativeHasOwnProperty=Object.prototype.hasOwnProperty;var t="Reduce of empty array with no initial value";return e.isString=function(t){return e.ObjectProto.toString.call(t)==="[object String]"},e.isArray=function(t){return e.ObjectProto.toString.call(t)==="[object Array]"},e.isObject=function(e){return e===Object(e)},e.isEmpty=function(t){if(t===null)return!0;if(e.isArray(t)||e.isString(t))return t.length===0;for(var n in t)if(e.has(t,n))return!1;return!0},e.extend=function(t){return e.forEach(Array.prototype.slice.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},e.forEach=function(t,n,r){if(t===null)return;if(e.nativeForEach&&t.forEach===e.nativeForEach)t.forEach(n,r);else if(t.length===+t.length)for(var i=0,s=t.length;i<s;i++)if(n.call(r,t[i],i,t)===e.breaker)return},e.has=function(t,n){return e.nativeHasOwnProperty.call(t,n)},e.keys=e.nativeKeys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var n=[];for(var r in t)e.has(t,r)&&n.push(r);return n},e.filter=function(t,n,r){var i=[];return t===null?i:e.nativeFilter&&t.filter===e.nativeFilter?t.filter(n,r):(e.forEach(t,function(e,t,s){n.call(r,e,t,s)&&i.push(e)}),i)},e.map=function(t,n,r){var i=[];return t===null?i:e.nativeMap&&t.map===e.nativeMap?t.map(n,r):(e.forEach(t,function(e,t,s){i.push(n.call(r,e,t,s))}),i)},e.reduce=function(n,r,i,s){var o=arguments.length>2;n===null&&(n=[]);if(e.nativeReduce&&n.reduce===e.nativeReduce)return s&&(r=e.bind(r,s)),o?n.reduce(r,i):n.reduce(r);e.forEach(n,function(e,t,n){o?i=r.call(s,i,e,t,n):(i=e,o=!0)});if(!o)throw new TypeError(t);return i},e}),r("Utilities/Config",["./Underscore.subset"],function(e){var t={},n=function(e){return t[e]},r=function(n,r){e.isObject(n)?e.extend(t,n):t[n]=r};return{get:n,set:r}}),r("Utilities/Logger",["./Underscore.subset"],function(e){function i(e){return function(){var t=[].slice.call(arguments);t.unshift("ia:"),o(e,t),s(e,t)}}function s(e,r){if(n>t[e])return;if(!console||!console[e])return;var i=Function.prototype.bind.call(console[e],console);i.apply(console,r)}function o(t,n){e.forEach(r,function(e){e(t,n)})}var t={log:1,warn:2,error:4,silent:8},n=t.error,r=[],u=function(e){r.indexOf(e)===-1&&r.push(e)},a=function(e){n=t[e]||t.error},f=i("error"),l=i("warn"),c=i("log");return{log:c,warn:l,error:f,setLevel:a,addLogListener:u}}),r("Utilities/Promise",[],function(){return function(){function e(e,t){return typeof e=="function"}function t(e){setTimeout(e,0)}return function n(){var r=null,i=[],s=[],o=function(n,o){r===null&&(r=n,i=o,t(function(){for(var e=0;e<s.length;e++)s[e]()}))};return o.then=function(o,u){var a=n(),f=function(){try{var t=r?o:u;if(e(t)){var n=t(i);n&&e(n.then)?n.then(function(e){a(!0,[e])},function(e){a(!1,[e])}):a(!0,[n])}else a(r,i)}catch(s){a(!1,[s])}};return r!==null?t(f):s.push(f),a},o.always=function(e){return o.then(e,e)},o.error=function(e){return o.then(0,e)},o}}()}),function(){function e(t,n,r){var i=e.resolve(t);if(null==i){r=r||t,n=n||"root";var s=new Error('Failed to require "'+r+'" from "'+n+'"');throw s.path=r,s.parent=n,s.require=!0,s}var o=e.modules[i];return o.exports||(o.exports={},o.client=o.component=!0,o.call(this,o.exports,e.relative(i),o)),o.exports}e.modules={},e.aliases={},e.resolve=function(t){t.charAt(0)==="/"&&(t=t.slice(1));var n=t+"/index.js",r=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"];for(var i=0;i<r.length;i++){var t=r[i];if(e.modules.hasOwnProperty(t))return t}if(e.aliases.hasOwnProperty(n))return e.aliases[n]},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var r=0;r<t.length;++r)".."==t[r]?e.pop():"."!=t[r]&&""!=t[r]&&n.push(t[r]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function r(e,t){var n=e.length;while(n--)if(e[n]===t)return n;return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}var n=e.normalize(t,"..");return i.resolve=function(i){var s=i.charAt(0);if("/"==s)return i.slice(1);if("."==s)return e.normalize(n,i);var o=t.split("/"),u=r(o,"deps")+1;return u||(u=0),i=o.slice(0,u+1).join("/")+"/deps/"+i,i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("component-indexof/index.js",function(e,t,n){var r=[].indexOf;n.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),e.register("component-emitter/index.js",function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}var r=t("indexof");n.exports=i,i.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},t._off=r,this.on(e,r),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var i=r(n,t._off||t);return~i&&n.splice(i,1),this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("RedVentures-reduce/index.js",function(e,t,n){n.exports=function(e,t,n){var r=0,i=e.length,s=arguments.length==3?n:e[r++];while(r<i)s=t.call(null,s,e[r],++r,e);return s}}),e.register("superagent/lib/client.js",function(e,t,n){function o(){}function u(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function f(e){return e===Object(e)}function l(e){if(!f(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function c(e){var t={},n=e.split("&"),r,i;for(var s=0,o=n.length;s<o;++s)i=n[s],r=i.split("="),t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return t}function h(e){var t=e.split(/\r?\n/),n={},r,i,s,o;t.pop();for(var u=0,f=t.length;u<f;++u)i=t[u],r=i.indexOf(":"),s=i.slice(0,r).toLowerCase(),o=a(i.slice(r+1)),n[s]=o;return n}function p(e){return e.split(/ *; */).shift()}function d(e){return i(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})}function v(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=h(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body=this.req.method!="HEAD"?this.parseBody(this.text?this.text:this.xhr.response):null}function m(e,t){var n=this;r.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new v(n)}catch(r){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=r,n.callback(e)}n.emit("response",t);if(e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var i=new Error(t.statusText||"Unsuccessful HTTP response");i.original=e,i.response=t,i.status=t.status,n.callback(e||i,t)})}function g(e,t){return"function"==typeof t?(new m("GET",e)).end(t):1==arguments.length?new m("GET",e):new m(e,t)}var r=t("emitter"),i=t("reduce"),s="undefined"==typeof window?this||self:window;g.getXHR=function(){if(s.XMLHttpRequest&&(!s.location||"file:"!=s.location.protocol||!s.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var a="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=l,g.parseString=c,g.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":l,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":c,"application/json":JSON.parse},v.prototype.get=function(e){return this.header[e.toLowerCase()]},v.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=p(t);var n=d(t);for(var r in n)this[r]=n[r]},v.prototype.parseBody=function(e){var t=g.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},v.prototype.setStatusProperties=function(e){e===1223&&(e=204);var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},v.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},g.Response=v,r(m.prototype),m.prototype.use=function(e){return e(this),this},m.prototype.timeout=function(e){return this._timeout=e,this},m.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},m.prototype.abort=function(){if(this.aborted)return;return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},m.prototype.set=function(e,t){if(f(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},m.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},m.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},m.prototype.type=function(e){return this.set("Content-Type",g.types[e]||e),this},m.prototype.accept=function(e){return this.set("Accept",g.types[e]||e),this},m.prototype.auth=function(e,t){var n=btoa(e+":"+t);return this.set("Authorization","Basic "+n),this},m.prototype.query=function(e){return"string"!=typeof e&&(e=l(e)),e&&this._query.push(e),this},m.prototype.field=function(e,t){return this._formData||(this._formData=new s.FormData),this._formData.append(e,t),this},m.prototype.attach=function(e,t,n){return this._formData||(this._formData=new s.FormData),this._formData.append(e,t,n),this},m.prototype.send=function(e){var t=f(e),n=this.getHeader("Content-Type");if(t&&f(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return!t||u(e)?this:(n||this.type("json"),this)},m.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},m.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},m.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},m.prototype.withCredentials=function(){return this._withCredentials=!0,this},m.prototype.end=function(e){var t=this,n=this.xhr=g.getXHR(),r=this._query.join("&"),i=this._timeout,s=this._formData||this._data;this._callback=e||o,n.onreadystatechange=function(){if(4!=n.readyState)return;var e;try{e=n.status}catch(r){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")};var a=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=a);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=a)}catch(f){}i&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},i)),r&&(r=g.serializeObject(r),this.url+=~this.url.indexOf("?")?"&"+r:"?"+r),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0);if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!u(s)){var l=g.serialize[this.getHeader("Content-Type")];l&&(s=l(s))}for(var c in this.header){if(null==this.header[c])continue;n.setRequestHeader(c,this.header[c])}return this.emit("request",this),n.send(s),this},g.Request=m,g.get=function(e,t,n){var r=g("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},g.head=function(e,t,n){var r=g("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.del=function(e,t){var n=g("DELETE",e);return t&&n.end(t),n},g.patch=function(e,t,n){var r=g("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.post=function(e,t,n){var r=g("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},g.put=function(e,t,n){var r=g("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},n.exports=g}),e.alias("component-emitter/index.js","superagent/deps/emitter/index.js"),e.alias("component-emitter/index.js","emitter/index.js"),e.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),e.alias("RedVentures-reduce/index.js","superagent/deps/reduce/index.js"),e.alias("RedVentures-reduce/index.js","reduce/index.js"),e.alias("superagent/lib/client.js","superagent/index.js"),typeof exports=="object"?module.exports=e("superagent"):typeof r=="function"&&r.amd?r("superagent",["superagent"],function(){return e("superagent")}):this.superagent=e("superagent")}(),r("Utilities/Xhr",["./Promise","./Logger","superagent"],function(e,t,n){var r={"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json; charset=UTF-8"},i=function(e){for(var t in r)e.set(t,r[t])},s=function(r){if(!r||!r.url)return;"async"in r&&!r.async&&t.warn("Error: synchronous requests are deprecated. Use asynchronous instead.");var s=e(),o=n.post(r.url);return i(o),o.send(JSON.stringify(r.data)).end(function(e,t){if(!t&&e)return s(!1,e);var n=[t.status,t.text,t.body];t.status===200?s(!0,n):s(!1,n)}),s};return s}),r("Utilities/EventRequest",["./Config","./Logger","./Promise","./Underscore.subset","./Xhr"],function(e,t,n,r,i){function s(e){this.initialize(e)}return s.prototype={events_:null,sendCount_:null,async_:null,wasProcessed_:null,initialize:function(e){this.events_=e.events,this.sendCount_=e.sendCount||0,this.wasProcessed_=e.wasProcessed||!1,this.wasProcessed_||(this.events_=r.filter(this.events_,this.isValidEvent_,this),this.events_=r.map(this.events_,this.decorateEvent_,this),this.wasProcessed_=!0),this.async_=e.async===undefined?this.containsAllAsynchronousEvents_():e.async},send:function(){if(!this.events_.length){t.warn("No valid events to be sent.");var s=n();return s(!0),s}this.sendCount_++;var o=r.map(this.events_,function(e){return r.extend({},e,{clientSendDatetime:this.getISODatetime_()})},this),u=i({url:e.get("endpoint"),data:{events:o},async:this.async_});return u.then(function(){var e=r.map(o,function(e){return'"'+e.eventType+'"'}).join(", "),n="Successfully sent "+o.length+" event"+(o.length===1?"":"s")+" to the analytics endpoint: "+e;t.log(n,o.length===1?o[0]:o)}),u},getSendCount:function(){return this.sendCount_},toJSON:function(){return{sendCount:this.sendCount_,async:this.async_,events:this.events_,wasProcessed:this.wasProcessed_}},isValidEvent_:function(e){var n=["enter","exit","oneshot"],i=[];(!e.eventType||!r.isString(e.eventType))&&i.push("eventType must be a string"),e.eventInfo&&!r.isObject(e.eventInfo)&&i.push("eventInfo must be an object"),e.eventMode&&n.indexOf(e.eventMode)===-1&&i.push("eventMode must be one of "+n.join(", "));if(i.length){var s="Event being excluded for the following reason(s): "+i.join(", and ");return t.error(s,e),!1}return!0},decorateEvent_:function(t){t=this.shallowCopyEvent_(t);var n=e.get("eventIterator");return t=n(t),t.datetime||(t.datetime=this.getISODatetime_()),t.eventMode||(t.eventMode="oneshot"),t.context=r.extend({},e.get("pageContext"),t.context),t},shallowCopyEvent_:function(e){return e=r.extend({},e),e.eventInfo=r.extend({},e.eventInfo),e.context=r.extend({},e.context),e},getISODatetime_:function(){return(new Date).toISOString()},containsAllAsynchronousEvents_:function(){return r.reduce(this.events_,function(e,t){return t.async===!1&&(e=!1),delete t.async,e},!0)}},s.create=function(e){return new s(e)},s}),r("Utilities/EventRequestQueue",["./EventRequest","./Logger","./Underscore.subset"],function(e,t,n){function o(){this.initialize()}var r="iajs-request-queue-v1",i=[1e3,5e3,3e4,6e4,3e5,9e5],s=i.length+3;return o.prototype={queue_:null,sendingQueue_:null,timeout_:null,retryCount_:null,initialize:function(){this.queue_=this.readLocalStorage_(),this.sendingQueue_=[],this.retryCount_=0},add:function(e){this.queue_.push(e),this.saveToLocalStorage_(),this.startTimer_()},flush:function(){clearTimeout(this.timeout_),this.timeout_=null;var e=n.filter(this.queue_,function(e){return this.sendingQueue_.indexOf(e)===-1},this);n.forEach(e,function(e){this.sendingQueue_.push(e);var t=this;e.send().then(function(){t.onRequestSuccess_(e)}).error(function(){t.onRequestError_(e)})},this)},onRequestSuccess_:function(e){this.removeFromSendingQueue_(e),this.removeFromQueue_(e),this.retryCount_=0},onRequestError_:function(e){this.removeFromSendingQueue_(e),this.saveToLocalStorage_(),e.getSendCount()>s?(this.removeFromQueue_(e),t.error("Dropping",e,"after",s,"failed attempts")):(t.log(e.getSendCount(),"failed attempts to send",e),this.startTimer_())},removeFromSendingQueue_:function(e){var t=this.sendingQueue_.indexOf(e);t!==-1&&this.sendingQueue_.splice(t,1)},removeFromQueue_:function(e){var t=this.queue_.indexOf(e);t!==-1&&this.queue_.splice(t,1),this.saveToLocalStorage_()},readLocalStorage_:function(){var t=this.getLocalStorage_();if(!t)return[];var i=JSON.parse(t.getItem(r)||"[]");return n.map(i,e.create)},saveToLocalStorage_:function(){var e=this.getLocalStorage_();if(!e)return;var t=n.map(this.queue_,function(e){return e.toJSON()});e.setItem(r,JSON.stringify(t))},startTimer_:function(){if(this.timeout_)return;var e=Math.min(this.retryCount_,i.length-1),t=i[e];this.retryCount_++;var n=this;this.timeout_=setTimeout(function(){n.timeout_=null,n.flush()},t)},getLocalStorage_:function(){var e=this.getWindow_();if(!e||!e.localStorage)return null;var t="iajs_test_key";try{return e.localStorage.setItem(t,"1"),e.localStorage.removeItem(t),e.localStorage}catch(n){return null}},getWindow_:function(){return typeof window!="undefined"?window:null}},new o}),r("Providers/Inkling",["../Utilities/EventRequest","../Utilities/EventRequestQueue","../Utilities/Logger","../Utilities/Underscore.subset"],function(e,t,n,r){var i=function(i){i=r.isArray(i)?i:[i];var s=new e({events:i});s.send().then(function(){t.flush()}).error(function(e){var r=e[0],o=e[1];r===400?n.error("Failed to send event(s) to analytics endpoint.","Status:",r,". Response:",o,". Events:",i):(n.warn("Failed to send event(s) to analytics endpoint. Adding to retry queue. Status: ",r,". Response: ",o,". Failed Events:",i),t.add(s))})},s=function(t,n){if(r.isArray(t)&&t.length>1)return n(!0,{statusCode:400,statusMessage:"Method only supports a single event."});var i=r.isArray(t)?t:[t],s=new e({events:i});s.send().then(function(e){var t=e[2]&&e[2].result;!t||t.badEvents&&t.badEvents.length||t.received!==t.sent?n(!0,{statusCode:400},e[1]):n(!1,{statusCode:e[0]},e[1])}).error(function(e){n(!0,{statusCode:e[0]},e[1])})},o=function(e){var t=[].slice.call(arguments,1);e==="sendEvent"?i(t[0]):e==="sendEventWithCallback"?s(t[0],t[1]):n.warn("Unknown Providers.Inkling method:",e)};return{delegate:o}}),r("Utils",["./Utilities/Underscore.subset"],function(e){var t={now:Date.now||function(){return+(new Date)}};return typeof window=="undefined"?e.extend(t,{win:global,hrnow:function(){var e=global.process.hrtime();return(e[0]+e[1]/1e9)*1e3},supportsHighResTime:!0}):e.extend(t,{win:window,hrnow:function(){window.performance=window.performance||{};var e=window.performance.now||window.performance.mozNow||window.performance.msNow||window.performance.oNow||window.performance.webkitNow;if(e)return e.bind(window.performance);return}(),supportsHighResTime:!!(window.performance.now||window.performance.mozNow||window.performance.msNow||window.performance.oNow||window.performance.webkitNow)}),t}),r("Utilities/Timing",["./Logger","./Underscore.subset","../Providers/Inkling","../Utils"],function(e,t,n,r){var i={},s={},o=r.win.performance||{};s.start=function(n,s){if(!t.isString(n)){e.error("Timing tag must be a string.");return}i[n]={startTime:r.now(),startTimeHighRes:(r.hrnow||r.now)(),eventInfo:t.extend({},s)}},s.end=function(n,o,u){if(!i[n]){e.error("Cannot end timing event for unknown tag",n,".");return}t.extend(i[n],{endTime:r.now(),endTimeHighRes:(r.hrnow||r.now)()}),t.extend(i[n].eventInfo,o),u!==!1&&s.flush()},s.flush=function(){var s=t.filter(t.keys(i),function(e){return!!i[e].endTime});if(s.length===0){e.warn("No tags to flush.");return}var o=t.map(s,function(e){var n=i[e],s=t.extend(n.eventInfo,{tag:e});return{eventType:"TimeLog",eventMode:"oneshot",eventInfo:s,context:{isHighResTimestamp:r.supportsHighResTime,timeDelta:n.endTime-n.startTime,timeDeltaHighRes:n.endTimeHighRes-n.startTimeHighRes}}});t.forEach(s,function(e){delete i[e]}),n.delegate("sendEvent",o)};if(typeof window!="undefined"){var u=function(e){var t=r.win[e];return{basePageTransferTime:t.responseEnd-t.responseStart,timeToDomLoaded:t.domContentLoadedEventStart-t.responseEnd,domContentLoadRuntime:t.domContentLoadedEventEnd-t.domContentLoadedEventStart,domLoadedToContentVisible:r.now()-t.domContentLoadedEventEnd}},a=function(){var e=o.timing,t={redirect:e.redirectEnd-e.redirectStart,dns:e.domainLookupEnd-e.domainLookupStart,serverConnect:e.secureConnectionStart-e.connectStart,sslConnect:e.connectEnd-e.secureConnectionStart,timeToFirstByte:e.responseStart-e.connectEnd,basePageTransferTime:e.responseEnd-e.responseStart,timeToDomLoaded:e.domContentLoadedEventStart-e.responseEnd,domContentLoadRuntime:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,domLoadedToContentVisible:r.now()-e.domContentLoadedEventEnd,total:r.now()-e.navigationStart};return e.secureConnectionStart===0&&(delete t.sslConnect,t.serverConnect=e.connectEnd-e.connectStart),t};s.pageload=function(e,i){var s=r.win[i]?u(i):{},f=o.timing?a():{};if(t.isEmpty(s)&&t.isEmpty(f))return;var l={},c=f;t.isEmpty(f)?(c=s,c.polyfilledValues=!0):c.polyfilledValues=!1,c.tag=e+"."+"PageLoadTiming",c.totalTime=c.total,delete c.total;var h=r.win.location;l.origin=h.origin||h.protocol+"//"+h.hostname+(h.port?":"+h.port:""),l.pathname=h.pathname||"";var p=[{eventType:"PageLoadTiming",eventMode:"oneshot",eventInfo:c,context:l}];n.delegate("sendEvent",p)}}return s}),r("InklingAnalytics",["./Utilities/Config","./Utilities/EventRequestQueue","./Utilities/Logger","./Utilities/Underscore.subset","./Utilities/Timing"],function(e,t,n,r,i){function u(){var e=this;return function(){var t=[].slice.call(arguments),i=t[0];if(!r.isString(i)){n.error("Method/Provider must be a string.");return}if(!e.initialized_&&i!=="init"&&i!=="setProvider"){n.error("ia has not been initialized.");return}if(e.initialized_&&i==="setProvider"){n.error("Cannot set provider after initialization.");return}if(e[i])return e[i].apply(e,t.slice(1));n.error("Method/Provider",i,"not defined.")}}var s=function(e){return e},o;return u.prototype={initialized_:!1,providers_:{}},u.prototype.init=function(i){if(!i){n.error("No initialization options provided.");return}if(!r.isString(i.endpoint)){n.error("No events endpoint provided.");return}this.initialized_&&n.warn("ia has already been initialized."),i.logLevel&&this.logLevel(i.logLevel),i.sentryOptions&&this.providers_.sentry.config(i.sentryOptions),e.set({project:i.project,endpoint:i.endpoint,eventIterator:i.eventIterator||s,pageContext:{}}),t.flush(),this.initialized_=!0},u.prototype.logLevel=function(e){n.setLevel(e)},u.prototype.setProvider=function(e,t){e&&t&&(this.providers_[e]=t,u.prototype[e]=function(){var t=this.providers_[e];t.delegate.apply(t,arguments)})},u.prototype.set=function(t,i,s){var o;if(r.isObject(t))o=t,s=i;else{if(!r.isString(t)){n.error("Set must be called with an object or key-value pair.");return}(o={})[t]=i}if(s!=="page"){n.error("Only `page` scope is currently supported.");return}var u=e.get("pageContext");r.extend(u,o),e.set("pageContext",u)},u.prototype.timing=function(e){if(!r.isString(e)){n.error("Timing function must be a string");return}if(!i[e]){n.error("Function",e,"not defined on timing object.");return}var t=Array.prototype.slice.call(arguments,1);i[e].apply(i,t)},u}),r("Utilities/SentryUtils",["./Logger"],function(e){var t=function(t,n){var r=t.dsn;if(!r){e.log("No Sentry DSN provided.");return}delete t.dsn,n(r,t)},n=function(e,t,n){return e[t]&&t!=="config"?(e[t].apply(e,n),!0):!1};return{initialize:t,delegate:n}}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof r=="function"&&r.amd?r("raven-js",t):e.Raven=t()}(this,function(){function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(e){return typeof e}:n=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return n(e)==="object"&&e!==null}function u(e){switch({}.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}function a(e){return v()&&{}.toString.call(e)==="[object ErrorEvent]"}function f(e){return e===void 0}function l(e){return typeof e=="function"}function c(e){return Object.prototype.toString.call(e)==="[object Object]"}function h(e){return Object.prototype.toString.call(e)==="[object String]"}function p(e){return Object.prototype.toString.call(e)==="[object Array]"}function d(e){if(!c(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function v(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function m(){if(!("fetch"in s))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function g(e){function t(t,n){var r=e(t)||t;return n?n(r)||r:r}return t}function y(e,t){var n,r;if(f(e.length))for(n in e)S(e,n)&&t.call(null,n,e[n]);else{r=e.length;if(r)for(n=0;n<r;n++)t.call(null,n,e[n])}}function b(e,t){return t?(y(t,function(t,n){e[t]=n}),e):e}function w(e){return Object.isFrozen?Object.isFrozen(e):!1}function E(e,t){return!t||e.length<=t?e:e.substr(0,t)+"â€¦"}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e){var t=[],n=0,r=e.length,i;for(;n<r;n++)i=e[n],h(i)?t.push(i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):i&&i.source&&t.push(i.source);return new RegExp(t.join("|"),"i")}function T(e){var t=[];return y(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")}function N(e){if(typeof e!="string")return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}}function C(){var e=s.crypto||s.msCrypto;if(!f(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=t[3]&4095|16384,t[4]=t[4]&16383|32768;var n=function(t){var n=t.toString(16);while(n.length<4)n="0"+n;return n};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function k(e){var t=5,n=80,r=[],i=0,s=0,o=" > ",u=o.length,a;while(e&&i++<t){a=L(e);if(a==="html"||i>1&&s+r.length*u+a.length>=n)break;r.push(a),s+=a.length,e=e.parentNode}return r.reverse().join(o)}function L(e){var t=[],n,r,i,s,o;if(!e||!e.tagName)return"";t.push(e.tagName.toLowerCase()),e.id&&t.push("#"+e.id),n=e.className;if(n&&h(n)){r=n.split(/\s+/);for(o=0;o<r.length;o++)t.push("."+r[o])}var u=["type","name","title","alt"];for(o=0;o<u.length;o++)i=u[o],s=e.getAttribute(i),s&&t.push("["+i+'="'+s+'"]');return t.join("")}function A(e,t){return!!(!!e^!!t)}function O(e,t){return f(e)&&f(t)}function M(e,t){return A(e,t)?!1:(e=e.values[0],t=t.values[0],e.type!==t.type||e.value!==t.value?!1:O(e.stacktrace,t.stacktrace)?!1:_(e.stacktrace,t.stacktrace))}function _(e,t){if(A(e,t))return!1;var n=e.frames,r=t.frames;if(n.length!==r.length)return!1;var i,s;for(var o=0;o<n.length;o++){i=n[o],s=r[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i["function"]!==s["function"])return!1}return!0}function D(e,t,n,r){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}function P(e,t){if(!p(e))return"";var n=[];for(var r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(i){n.push("[value cannot be serialized]")}return n.join(t)}function R(){return typeof document=="undefined"||document.location==null?"":document.location.href}function X(e){this.name="RavenConfigError",this.message=e}function wt(){return+(new Date)}function Tt(e,t){return Z(t)?function(n){return t(n,e)}:t}function Nt(){this._hasJSON=n(JSON)==="object"&&!!JSON.stringify,this._hasDocument=!Y(St),this._hasNavigator=!Y(xt),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:Et.SENTRY_RELEASE&&Et.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:"origin"},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=Et.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=wt(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=Et.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var e in this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},i=typeof Reflect=="object"&&Reflect.construct||function(t,n,i){var s,o=[null];return o.push.apply(o,n),s=t.bind.apply(t,o),r(new s,i.prototype)},s=typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{},H={isObject:o,isError:u,isErrorEvent:a,isUndefined:f,isFunction:l,isPlainObject:c,isString:h,isArray:p,isEmptyObject:d,supportsErrorEvent:v,supportsFetch:m,wrappedCallback:g,each:y,objectMerge:b,truncate:E,objectFrozen:w,hasKey:S,joinRegExp:x,urlencode:T,uuid4:C,htmlTreeAsString:k,htmlElementAsString:L,isSameException:M,isSameStacktrace:_,parseUrl:N,fill:D,safeJoin:P},B={collectWindowErrors:!0,debug:!1},j=typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{},F=[].slice,I="?",q=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;B.report=function(){function s(e){h(),t.push(e)}function o(e){for(var n=t.length-1;n>=0;--n)t[n]===e&&t.splice(n,1)}function u(){p(),t=[]}function a(e,n){var r=null;if(n&&!B.collectWindowErrors)return;for(var i in t)if(t.hasOwnProperty(i))try{t[i].apply(null,[e].concat(F.call(arguments,2)))}catch(s){r=s}if(r)throw r}function c(e,t,n,r,s){var o=null,u=H.isErrorEvent(s)?s.error:s,l=H.isErrorEvent(e)?e.message:e;if(i)B.computeStackTrace.augmentStackTraceWithInitialElement(i,t,n,l),d();else if(u&&H.isError(u))o=B.computeStackTrace(u),a(o,!0);else{var c={url:t,line:n,column:r},h=undefined,p;if({}.toString.call(l)==="[object String]"){var p=l.match(q);p&&(h=p[1],l=p[2])}c.func=I,o={name:h,message:l,url:R(),stack:[c]},a(o,!0)}return f?f.apply(this,arguments):!1}function h(){if(l)return;f=j.onerror,j.onerror=c,l=!0}function p(){if(!l)return;j.onerror=f,l=!1,f=undefined}function d(){var e=i,t=n;n=null,i=null,r=null,a.apply(null,[e,!1].concat(t))}function v(e,t){var s=F.call(arguments,1);if(i){if(r===e)return;d()}var o=B.computeStackTrace(e);i=o,r=e,n=s,setTimeout(function(){r===e&&d()},o.incomplete?2e3:0);if(t!==!1)throw e}var t=[],n=null,r=null,i=null,f,l;return v.subscribe=s,v.unsubscribe=o,v.uninstall=u,v}(),B.computeStackTrace=function(){function t(e){if(typeof e.stack=="undefined"||!e.stack)return;var t=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,n=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,r=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,o=e.stack.split("\n"),u=[],a,f,l,c=/^(.*) is undefined$/.exec(e.message);for(var h=0,p=o.length;h<p;++h){if(f=t.exec(o[h])){var d=f[2]&&f[2].indexOf("native")===0,v=f[2]&&f[2].indexOf("eval")===0;v&&(a=s.exec(f[2]))&&(f[2]=a[1],f[3]=a[2],f[4]=a[3]),l={url:d?null:f[2],func:f[1]||I,args:d?[f[2]]:[],line:f[3]?+f[3]:null,column:f[4]?+f[4]:null}}else if(f=r.exec(o[h]))l={url:f[2],func:f[1]||I,args:[],line:+f[3],column:f[4]?+f[4]:null};else{if(!(f=n.exec(o[h])))continue;var v=f[3]&&f[3].indexOf(" > eval")>-1;v&&(a=i.exec(f[3]))?(f[3]=a[1],f[4]=a[2],f[5]=null):h===0&&!f[5]&&typeof e.columnNumber!="undefined"&&(u[0].column=e.columnNumber+1),l={url:f[3],func:f[1]||I,args:f[2]?f[2].split(","):[],line:f[4]?+f[4]:null,column:f[5]?+f[5]:null}}!l.func&&l.line&&(l.func=I),u.push(l)}return u.length?{name:e.name,message:e.message,url:R(),stack:u}:null}function n(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=I);if(e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function r(e,t){var s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,o=[],u={},a=!1,f,l;for(var c=r.caller;c&&!a;c=c.caller){if(c===i||c===B.report)continue;l={url:null,func:I,line:null,column:null};if(c.name)l.func=c.name;else if(f=s.exec(c.toString()))l.func=f[1];if(typeof l.func=="undefined")try{l.func=f.input.substring(0,f.input.indexOf("{"))}catch(h){}u[""+c]?a=!0:u[""+c]=!0,o.push(l)}t&&o.splice(0,t);var p={name:e.name,message:e.message,url:R(),stack:o};return n(p,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),p}function i(e,n){var i=null;n=n==null?0:+n;try{i=t(e);if(i)return i}catch(s){if(B.debug)throw s}try{i=r(e,n+1);if(i)return i}catch(s){if(B.debug)throw s}return{name:e.name,message:e.message,url:R()}}return i.augmentStackTraceWithInitialElement=n,i.computeStackTraceFromStackProp=t,i}();var U=B,z=t(function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t,n,r){return JSON.stringify(e,s(t,r),n)}function i(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function s(e,t){var r=[],s=[];return t==null&&(t=function(t,i){return r[0]===i?"[Circular ~]":"[Circular ~."+s.slice(0,n(r,i)).join(".")+"]"}),function(o,u){if(r.length>0){var a=n(r,this);~a?r.splice(a+1):r.push(this),~a?s.splice(a,Infinity,o):s.push(o),~n(r,u)&&(u=t.call(this,o,u))}else r.push(u);return e==null?u instanceof Error?i(u):u:e.call(this,o,u)}}t=e.exports=r,t.getSerialize=s}),W=z.getSerialize;X.prototype=new Error,X.prototype.constructor=X;var V=X,$=function(t,n,r){var i=t[n],s=t;if(!(n in t))return;var o=n==="warn"?"warning":n;t[n]=function(){var e=[].slice.call(arguments),t=H.safeJoin(e," "),u={level:o,logger:"console",extra:{arguments:e}};n==="assert"?e[0]===!1&&(t="Assertion failed: "+(H.safeJoin(e.slice(1)," ")||"console.assert"),u.extra.arguments=e.slice(1),r&&r(t,u)):r&&r(t,u),i&&Function.prototype.apply.call(i,s,e)}},J={wrapMethod:$},K=H.isError,Q=H.isObject,G=H.isErrorEvent,Y=H.isUndefined,Z=H.isFunction,et=H.isString,tt=H.isArray,nt=H.isEmptyObject,rt=H.each,it=H.objectMerge,st=H.truncate,ot=H.objectFrozen,ut=H.hasKey,at=H.joinRegExp,ft=H.urlencode,lt=H.uuid4,ct=H.htmlTreeAsString,ht=H.isSameException,pt=H.isSameStacktrace,dt=H.parseUrl,vt=H.fill,mt=H.supportsFetch,gt=J.wrapMethod,yt="source protocol user pass host port path".split(" "),bt=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,Et=typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{},St=Et.document,xt=Et.navigator;Nt.prototype={VERSION:"3.22.2",debug:!1,TraceKit:U,config:function(t,n){var r=this;if(r._globalServer)return this._logDebug("error","Error: Raven has already been configured"),r;if(!t)return r;var i=r._globalOptions;n&&rt(n,function(e,t){e==="tags"||e==="extra"||e==="user"?r._globalContext[e]=t:i[e]=t}),r.setDSN(t),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=at(i.ignoreErrors),i.ignoreUrls=i.ignoreUrls.length?at(i.ignoreUrls):!1,i.whitelistUrls=i.whitelistUrls.length?at(i.whitelistUrls):!1,i.includePaths=at(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var s={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=i.autoBreadcrumbs;(({})).toString.call(o)==="[object Object]"?o=it(s,o):o!==!1&&(o=s),i.autoBreadcrumbs=o;var u={tryCatch:!0},a=i.instrument;return{}.toString.call(a)==="[object Object]"?a=it(u,a):a!==!1&&(a=u),i.instrument=a,U.collectWindowErrors=!!i.collectWindowErrors,r},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(U.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var n=this,r=n._parseDSN(t),i=r.path.lastIndexOf("/"),s=r.path.substr(1,i);n._dsn=t,n._globalKey=r.user,n._globalSecret=r.pass&&r.pass.substr(1),n._globalProject=r.path.substr(i+1),n._globalServer=n._getGlobalServer(r),n._globalEndpoint=n._globalServer+"/"+s+"api/"+n._globalProject+"/store/",this._resetBackoff()},context:function(t,n,r){return Z(t)&&(r=n||[],n=t,t=undefined),this.wrap(t,n).apply(this,r)},wrap:function(t,n,r){function o(){var e=[],s=arguments.length,o=!t||t&&t.deep!==!1;r&&Z(r)&&r.apply(this,arguments);while(s--)e[s]=o?i.wrap(t,arguments[s]):arguments[s];try{return n.apply(this,e)}catch(u){throw i._ignoreNextOnError(),i.captureException(u,t),u}}var i=this;if(Y(n)&&!Z(t))return t;Z(t)&&(n=t,t=undefined);if(!Z(n))return n;try{if(n.__raven__)return n;if(n.__raven_wrapper__)return n.__raven_wrapper__}catch(s){return n}for(var u in n)ut(n,u)&&(o[u]=n[u]);return o.prototype=n.prototype,n.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=n,o},uninstall:function(){return U.report.uninstall(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(t,n){n=it({trimHeadFrames:0},n?n:{});var r=!K(t),i=!G(t),s=G(t)&&!t.error;if(r&&i||s)return this.captureMessage(t,it(n,{stacktrace:!0,trimHeadFrames:n.trimHeadFrames+1}));G(t)&&(t=t.error),this._lastCapturedException=t;try{var o=U.computeStackTrace(t);this._handleStackInfo(o,n)}catch(u){if(t!==u)throw u}return this},captureMessage:function(t,n){if(!!this._globalOptions.ignoreErrors.test&&this._globalOptions.ignoreErrors.test(t))return;n=n||{};var r=it({message:t+""},n),i;try{throw new Error(t)}catch(s){i=s}i.name=null;var o=U.computeStackTrace(i),u=tt(o.stack)&&o.stack[1],a=u&&u.url||"";if(!!this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(a))return;if(!!this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(a))return;if(this._globalOptions.stacktrace||n&&n.stacktrace){n=it({fingerprint:t,trimHeadFrames:(n.trimHeadFrames||0)+1},n);var f=this._prepareFrames(o,n);r.stacktrace={frames:f.reverse()}}return this._send(r),this},captureBreadcrumb:function(t){var n=it({timestamp:wt()/1e3},t);if(Z(this._globalOptions.breadcrumbCallback)){var r=this._globalOptions.breadcrumbCallback(n);if(Q(r)&&!nt(r))n=r;else if(r===!1)return this}return this._breadcrumbs.push(n),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var n=[].slice.call(arguments,1);return this._plugins.push([t,n]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(z(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var n=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=Tt(n,t),this},setBreadcrumbCallback:function(t){var n=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=Tt(n,t),this},setShouldSendCallback:function(t){var n=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=Tt(n,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return this._hasJSON?this._globalServer?!0:(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1):!1},afterLoad:function(){var t=Et.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(!St)return;t=t||{};var n=t.eventId||this.lastEventId();if(!n)throw new V("Missing eventId");var r=t.dsn||this._dsn;if(!r)throw new V("Missing DSN");var i=encodeURIComponent,s="";s+="?eventId="+i(n),s+="&dsn="+i(r);var o=t.user||this._globalContext.user;o&&(o.name&&(s+="&name="+i(o.name)),o.email&&(s+="&email="+i(o.email)));var u=this._getGlobalServer(this._parseDSN(r)),a=St.createElement("script");a.async=!0,a.src=u+"/api/embed/error-page/"+s,(St.head||St.body).appendChild(a)},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,n){var r,i;if(!this._hasDocument)return;n=n||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),St.createEvent?(r=St.createEvent("HTMLEvents"),r.initEvent(t,!0,!0)):(r=St.createEventObject(),r.eventType=t);for(i in n)ut(n,i)&&(r[i]=n[i]);if(St.createEvent)St.dispatchEvent(r);else try{St.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(s){}},_breadcrumbEventHandler:function(t){var n=this;return function(e){n._keypressTimeout=null;if(n._lastCapturedEvent===e)return;n._lastCapturedEvent=e;var r;try{r=ct(e.target)}catch(i){r="<unknown>"}n.captureBreadcrumb({category:"ui."+t,message:r})}},_keypressEventHandler:function(){var t=this,n=1e3;return function(e){var r;try{r=e.target}catch(i){return}var s=r&&r.tagName;if(!s||s!=="INPUT"&&s!=="TEXTAREA"&&!r.isContentEditable)return;var o=t._keypressTimeout;o||t._breadcrumbEventHandler("input")(e),clearTimeout(o),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},n)}},_captureUrlChange:function(t,n){var r=dt(this._location.href),i=dt(n),s=dt(t);this._lastHref=n,r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===s.protocol&&r.host===s.host&&(t=s.relative),this.captureBreadcrumb({category:"navigation",data:{to:n,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return typeof this=="function"&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){function r(e){return function(n,r){var i=new Array(arguments.length);for(var s=0;s<i.length;++s)i[s]=arguments[s];var o=i[0];return Z(o)&&(i[0]=t.wrap(o)),e.apply?e.apply(this,i):e(i[0],i[1])}}function s(e){var r=Et[e]&&Et[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(vt(r,"addEventListener",function(n){return function(r,s,o,u){try{s&&s.handleEvent&&(s.handleEvent=t.wrap(s.handleEvent))}catch(a){}var f,l,c;return i&&i.dom&&(e==="EventTarget"||e==="Node")&&(l=t._breadcrumbEventHandler("click"),c=t._keypressEventHandler(),f=function(t){if(!t)return;var n;try{n=t.type}catch(r){return}if(n==="click")return l(t);if(n==="keypress")return c(t)}),n.call(this,r,t.wrap(s,undefined,f),o,u)}},n),vt(r,"removeEventListener",function(e){return function(t,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(s){}return e.call(this,t,n,r,i)}},n))}var t=this,n=t._wrappedBuiltIns,i=this._globalOptions.autoBreadcrumbs;vt(Et,"setTimeout",r,n),vt(Et,"setInterval",r,n),Et.requestAnimationFrame&&vt(Et,"requestAnimationFrame",function(e){return function(n){return e(t.wrap(n))}},n);var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];for(var u=0;u<o.length;u++)s(o[u])},_instrumentBreadcrumbs:function(){function i(e,n){e in n&&Z(n[e])&&vt(n,e,function(e){return t.wrap(e)})}var t=this,n=this._globalOptions.autoBreadcrumbs,r=t._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in Et){var s=XMLHttpRequest.prototype;vt(s,"open",function(e){return function(n,r){return et(r)&&r.indexOf(t._globalKey)===-1&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}},r),vt(s,"send",function(e){return function(){function r(){if(n.__raven_xhr&&n.readyState===4){try{n.__raven_xhr.status_code=n.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}var n=this,s=["onload","onerror","onprogress"];for(var o=0;o<s.length;o++)i(s[o],n);return"onreadystatechange"in n&&Z(n.onreadystatechange)?vt(n,"onreadystatechange",function(e){return t.wrap(e,undefined,r)}):n.onreadystatechange=r,e.apply(this,arguments)}},r)}n.xhr&&mt()&&vt(Et,"fetch",function(e){return function(){var n=new Array(arguments.length);for(var r=0;r<n.length;++r)n[r]=arguments[r];var i=n[0],s="GET",o;typeof i=="string"?o=i:"Request"in Et&&i instanceof Et.Request?(o=i.url,i.method&&(s=i.method)):o=""+i;if(o.indexOf(t._globalKey)!==-1)return e.apply(this,n);n[1]&&n[1].method&&(s=n[1].method);var u={method:s,url:o,status_code:null};return e.apply(this,n).then(function(e){return u.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:u}),e})}},r),n.dom&&this._hasDocument&&(St.addEventListener?(St.addEventListener("click",t._breadcrumbEventHandler("click"),!1),St.addEventListener("keypress",t._keypressEventHandler(),!1)):(St.attachEvent("onclick",t._breadcrumbEventHandler("click")),St.attachEvent("onkeypress",t._keypressEventHandler())));var o=Et.chrome,u=o&&o.app&&o.app.runtime,a=!u&&Et.history&&history.pushState&&history.replaceState;if(n.location&&a){var f=Et.onpopstate;Et.onpopstate=function(){var e=t._location.href;t._captureUrlChange(t._lastHref,e);if(f)return f.apply(this,arguments)};var l=function(n){return function(){var e=arguments.length>2?arguments[2]:undefined;return e&&t._captureUrlChange(t._lastHref,e+""),n.apply(this,arguments)}};vt(history,"pushState",l,r),vt(history,"replaceState",l,r)}if(n.console&&"console"in Et&&console.log){var c=function(n,r){t.captureBreadcrumb({message:n,level:r.level,category:"console"})};rt(["debug","info","warn","error","log"],function(e,t){gt(console,t,c)})}},_restoreBuiltIns:function(){var t;while(this._wrappedBuiltIns.length){t=this._wrappedBuiltIns.shift();var n=t[0],r=t[1],i=t[2];n[r]=i}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;rt(this._plugins,function(e,n){var r=n[0],i=n[1];r.apply(t,[t].concat(i))})},_parseDSN:function(t){var n=bt.exec(t),r={},i=7;try{while(i--)r[yt[i]]=n[i]||""}catch(s){throw new V("Invalid DSN: "+t)}if(r.pass&&!this._globalOptions.allowSecretKey)throw new V("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},_getGlobalServer:function(t){var n="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(n=t.protocol+":"+n),n},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,n){var r=this._prepareFrames(t,n);this._triggerEvent("handle",{stackInfo:t,options:n}),this._processException(t.name,t.message,t.url,t.lineno,r,n)},_prepareFrames:function(t,n){var r=this,i=[];if(t.stack&&t.stack.length){rt(t.stack,function(e,n){var s=r._normalizeFrame(n,t.url);s&&i.push(s)});if(n&&n.trimHeadFrames)for(var s=0;s<n.trimHeadFrames&&s<i.length;s++)i[s].in_app=!1}return i=i.slice(0,this._globalOptions.stackTraceLimit),i},_normalizeFrame:function(t,n){var r={filename:t.url,lineno:t.line,colno:t.column,"function":t.func||"?"};return t.url||(r.filename=n),r.in_app=!(!!this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(r.filename)||/(Raven|TraceKit)\./.test(r["function"])||/raven\.(min\.)?js$/.test(r.filename)),r},_processException:function(t,n,r,i,s,o){var u=(t?t+": ":"")+(n||"");if(!(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(n)&&!this._globalOptions.ignoreErrors.test(u)))return;var a;s&&s.length?(r=s[0].filename||r,s.reverse(),a={frames:s}):r&&(a={frames:[{filename:r,lineno:i,in_app:!0}]});if(!!this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(r))return;if(!!this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(r))return;var f=it({exception:{values:[{type:t,value:n,stacktrace:a}]},culprit:r},o);this._send(f)},_trimPacket:function(t){var n=this._globalOptions.maxMessageLength;t.message&&(t.message=st(t.message,n));if(t.exception){var r=t.exception.values[0];r.value=st(r.value,n)}var i=t.request;return i&&(i.url&&(i.url=st(i.url,this._globalOptions.maxUrlLength)),i.Referer&&(i.Referer=st(i.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){var n=["to","from","url"],r,i,s;for(var o=0;o<t.values.length;++o){i=t.values[o];if(!i.hasOwnProperty("data")||!Q(i.data)||ot(i.data))continue;s=it({},i.data);for(var u=0;u<n.length;++u)r=n[u],s.hasOwnProperty(r)&&s[r]&&(s[r]=st(s[r],this._globalOptions.maxUrlLength));t.values[o].data=s}},_getHttpData:function(){if(!this._hasNavigator&&!this._hasDocument)return;var t={};return this._hasNavigator&&xt.userAgent&&(t.headers={"User-Agent":navigator.userAgent}),Et.location&&Et.location.href&&(t.url=Et.location.href),this._hasDocument&&St.referrer&&(t.headers||(t.headers={}),t.headers.Referer=St.referrer),t},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&wt()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var n=this._lastData;return!n||t.message!==n.message||t.culprit!==n.culprit?!1:t.stacktrace||n.stacktrace?pt(t.stacktrace,n.stacktrace):t.exception||n.exception?ht(t.exception,n.exception):!0},_setBackoffState:function(t){if(this._shouldBackoff())return;var n=t.status;if(n!==400&&n!==401&&n!==429)return;var r;try{mt()?r=t.headers.get("Retry-After"):r=t.getResponseHeader("Retry-After"),r=parseInt(r,10)*1e3}catch(i){}this._backoffDuration=r?r:this._backoffDuration*2||1e3,this._backoffStart=wt()},_send:function(t){var n=this._globalOptions,r={project:this._globalProject,logger:n.logger,platform:"javascript"},i=this._getHttpData();i&&(r.request=i),t.trimHeadFrames&&delete t.trimHeadFrames,t=it(r,t),t.tags=it(it({},this._globalContext.tags),t.tags),t.extra=it(it({},this._globalContext.extra),t.extra),t.extra["session:duration"]=wt()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),n.environment&&(t.environment=n.environment),n.release&&(t.release=n.release),n.serverName&&(t.server_name=n.serverName),Object.keys(t).forEach(function(e){(t[e]==null||t[e]===""||nt(t[e]))&&delete t[e]}),Z(n.dataCallback)&&(t=n.dataCallback(t)||t);if(!t||nt(t))return;if(Z(n.shouldSendCallback)&&!n.shouldSendCallback(t))return;if(this._shouldBackoff()){this._logDebug("warn","Raven dropped error due to backoff: ",t);return}typeof n.sampleRate=="number"?Math.random()<n.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)},_getUuid:function(){return lt()},_sendProcessedPayload:function(t,n){var r=this,i=this._globalOptions;if(!this.isSetup())return;t=this._trimPacket(t);if(!this._globalOptions.allowDuplicates&&this._isRepeatData(t)){this._logDebug("warn","Raven dropped repeat event: ",t);return}this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var s={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(s.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var u=this._globalEndpoint;(i.transport||this._makeRequest).call(this,{url:u,auth:s,data:t,options:i,onSuccess:function(){r._resetBackoff(),r._triggerEvent("success",{data:t,src:u}),n&&n()},onError:function(i){r._logDebug("error","Raven transport failed to send: ",i),i.request&&r._setBackoffState(i.request),r._triggerEvent("failure",{data:t,src:u}),i=i||new Error("Raven send failed (no additional details provided)"),n&&n(i)}})},_makeRequest:function(t){var n=t.url+"?"+ft(t.auth),r=null,i={};t.options.headers&&(r=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(i=this._evaluateHash(t.options.fetchParameters));if(mt()){i.body=z(t.data);var s=it({},this._fetchDefaults),o=it(s,i);return r&&(o.headers=r),Et.fetch(n,o).then(function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}})["catch"](function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var u=Et.XMLHttpRequest&&new Et.XMLHttpRequest;if(!u)return;var a="withCredentials"in u||typeof XDomainRequest!="undefined";if(!a)return;"withCredentials"in u?u.onreadystatechange=function(){if(u.readyState!==4)return;if(u.status===200)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+u.status);e.request=u,t.onError(e)}}:(u=new XDomainRequest,n=n.replace(/^https?:/,""),t.onSuccess&&(u.onload=t.onSuccess),t.onError&&(u.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=u,t.onError(e)})),u.open("POST",n),r&&rt(r,function(e,t){u.setRequestHeader(e,t)}),u.send(z(t.data))},_evaluateHash:function(t){var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];n[r]=typeof i=="function"?i():i}return n},_logDebug:function(t){this._originalConsoleMethods[t]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,n){Y(n)?delete this._globalContext[t]:this._globalContext[t]=it(this._globalContext[t]||{},n)}},Nt.prototype.setUser=Nt.prototype.setUserContext,Nt.prototype.setReleaseContext=Nt.prototype.setRelease;var Ct=Nt,kt=typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{},Lt=kt.Raven,At=new Ct;At.noConflict=function(){return kt.Raven=Lt,At},At.afterLoad();var Ot=At;return Ot}),r("Providers/Sentry",["../Utilities/Logger","../Utilities/SentryUtils","raven-js"],function(e,t,n){var r=!1,i=function(e){t.initialize(e,function(e,t){n.config(e,t).install(),r=!0})},s=function(i){if(!r){e.warn('Sentry method "'+i+'" called before sentry initialization');return}var s=[].slice.call(arguments,1);t.delegate(n,i,s)||e.warn("Unknown Providers.Sentry (raven-js) method:",i)};return e.addLogListener(function(e,t){r&&(e==="warn"||e==="error")&&s("captureMessage",t.join(" "),{level:"warning",tags:{component:"ia.js"},extra:{logLevel:e,logArguments:t}})}),{config:i,delegate:s}}),r("Providers/Google",["../Utilities/Logger","../Utilities/Underscore.subset"],function(e,t){window._gaq=window._gaq||[],window.ga=window.ga||function(){e.warn("Google universal analytics has not been made available on this page.")};var n=function(n){n=t.extend({},n||{});if(!t.isString(n.eventCategory)||!t.isString(n.eventAction)){e.error("Google Analytics requires that category and action to be a string.");return}n.nonInteraction===undefined&&(e.log("Setting nonInteraction = true for Google Analytics event tracking."),n.nonInteraction=!0);var r=["_trackEvent",n.eventCategory,n.eventAction,n.eventLabel,n.eventValue,!!n.nonInteraction];_gaq.push(r),e.log("Sent event to ga.js with parameters:",r);var i={hitType:"event",eventCategory:n.eventCategory,eventAction:n.eventAction,eventLabel:n.eventLabel,eventValue:n.eventValue,nonInteraction:!!n.nonInteraction,hitCallback:function(){n.hitCallback&&n.hitCallback(),e.log("analytics.js processed event with parameters:",i)}};ga("send",i),e.log("Sent event to analytics.js with parameters:",i)},r=function(n){if(!n||!n.path){e.error("trackPageview requires a path.");return}t.forEach(n.customVars||[],function(t){var n=["_setCustomVar"].concat(t);e.log("Setting ga.js custom variable:",n),_gaq.push(n)});var r=t.keys(n.dimensions||{});t.forEach(r,function(t){var r="dimension"+t,i=n.dimensions[t];e.log("Setting analytics.js dimension:",r,i),ga("set",r,i)});var i=t.keys(n.metrics||{});t.forEach(i,function(t){var r="metric"+t,i=n.metrics[t];e.log("Setting analytics.js metric:",r,i),ga("set",r,i)}),_gaq.push(["_trackPageview",n.path]),ga("send","pageview",n.path),e.log("Sent pageview event to both analytics.js and ga.js")},i={addTransaction:function(n){n=n||{};var r=t.reduce(["id","affiliation","revenue"],function(t,r){return typeof n[r]!="string"&&(e.error("ecommerce:addTransaction missing required option:",r),t=!1),t},!0);if(!r){e.error("ecommerce:addTransaction aborting due to invalid/missing options");return}var i=["_addTrans",n.id,n.affiliation,n.revenue,n.tax,n.shipping,"","",""];_gaq.push(i),e.log("Sent _addTrans to ga.js with parameters:",i);var s={id:n.id,affiliation:n.affiliation,revenue:n.revenue,shipping:n.shipping,tax:n.tax};ga("ecommerce:addTransaction",s),e.log("Sent ecommerce:addTransaction to analytics.js with parameters:",s)},addItem:function(n){n=t.extend({},n||{}),n.quantity===undefined&&(n.quantity="1");var r=t.reduce(["id","name","sku","price"],function(t,r){return typeof n[r]!="string"&&(e.error("ecommerce:addItem missing required option:",r),t=!1),t},!0);if(!r){e.error("ecommerce:addItem aborting due to invalid/missing options");return}var i=["_addItem",n.id,n.sku,n.name,n.category,n.price,n.quantity];_gaq.push(i),e.log("Sent _addItem to ga.js with parameters:",i);var s={id:n.id,name:n.name,sku:n.sku,category:n.category,price:n.price,quantity:n.quantity};ga("ecommerce:addItem",s),e.log("Sent ecommerce:addItem to analytics.js with parameters:",s)},send:function(){_gaq.push(["_trackTrans"]),e.log("Sent _trackTrans to ga.js"),ga("ecommerce:send"),e.log("Sent ecommerce:send to analytics.js")}},s=!1;Object.keys(i).forEach(function(e){var t=i[e];i[e]=function(){return s||(ga("require","ecommerce","ecommerce.js"),s=!0),t.apply(this,arguments)}});var o=function(t){var s=[].slice.call(arguments,1),o={sendEvent:n,pageview:r,"ecommerce:addTransaction":i.addTransaction,"ecommerce:addItem":i.addItem,"ecommerce:send":i.send};o[t]?o[t].apply(null,s):(e.log("Unknown method:",t,"Applying through to Universal Analytics"),ga.apply(null,arguments))};return{delegate:o}}),r("Providers/Optimizely",["../Utilities/Underscore.subset"],function(e){var t=window.optimizely||(window.optimizely=[]),n=function(){return t.data||{}},r=function(e){if(e==="data")return n();t.push([].slice.call(arguments))};return{delegate:r}}),r("Providers/Mixpanel",["../Utilities/Logger","../Utilities/Underscore.subset"],function(e,t){var n=function(t){var n=[].slice.call(arguments);window.mixpanel===undefined?e.warn("Mixpanel is not defined on the page."):window.mixpanel.push(n)};return{delegate:n}}),r("browser-main",["./InklingAnalytics","./Utilities/Underscore.subset","./Providers/Inkling","./Providers/Sentry","./Providers/Google","./Providers/Optimizely","./Providers/Mixpanel"],function(e,t,n,r,i,s,o){return function(u){u=u||[];var a=new e;return a("setProvider","inkling",n),a("setProvider","sentry",r),a("setProvider","ga",i),a("setProvider","optimizely",s),a("setProvider","mixpanel",o),t.forEach(u,function(e){a.apply(a,e)}),a}});var i=n("browser-main");return i(e)}((window.ia||{}).q||[]);
